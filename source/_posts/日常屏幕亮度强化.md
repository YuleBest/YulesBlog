---
title: 日常屏幕亮度强化（LuminPro）
date: 2025-02-14 09:18:09
tags:
- Android搞机
- Magisk
- 模块
categories:
- Android
- 开源项目
id: git/1
---
<div align="center">

# 日常屏幕亮度强化

[Github](https://github.com/YuleBest/LuminPro)

中文简体  丨  [English](https://github.com/YuleBest/LuminPro/blob/main/README_en.md)

让你的 Android 设备随时可以使用激发亮度显示屏幕内容

</div>

## 模块介绍  
本模块旨在让你的 Android 设备随时可以使用激发亮度显示屏幕内容。无论设备当前亮度如何，只要满足设定条件，模块便会自动提升屏幕亮度至最高状态，确保你在任何情况下都能获得清晰的显示效果。

## 功能特点  
- **自定义亮度参数**  
  用户可以在 `CONFIG.prop` 文件中设置自定义参数：  
  - `custom_thr_bri`：自定义阈值亮度，可不设置，默认为测得的 `FDBRI`。当当前亮度等于该值时，模块会考虑提升亮度。
  - `custom_max_bri`：自定义最大亮度，可不设置，默认为测得的 `MAXBRI`。达到该亮度后屏幕显示内容将更加清晰明亮。

- **亮度平滑提升**  
  模块支持两种亮度提升模式：  
  - **模式 1**：直接将屏幕亮度从阈值提升到最大亮度，适用于需要迅速激发屏幕亮度的场景。  
  - **模式 2**：采用分步提升的方式，利用设定的步数平滑过渡到最大亮度，带来更平滑的视觉体验。

- **动态参数更新**  
  每个循环周期开始前，模块都会重新加载配置文件，允许用户实时更新参数，无需重启设备即可生效，确保亮度调节始终符合用户需求。

- **休眠时间规则**  
  可通过配置 `sleep_start` 和 `sleep_stop` 参数来设定自动亮度调整的休眠时段，避免在夜间或特定时段内打扰用户。

- **日志记录与管理**  
  模块详细记录每次亮度调整过程及状态信息，日志超过一定大小时会自动归档，并管理归档文件数量，方便问题排查和维护。

## 模块工作流程  
1. **启动与初始化**  
   - 模块启动后加载自定义参数与默认值（如 `FDBRI`、`MAXBRI` 等）。  
   - 初始化日志文件和模块描述信息，为后续操作做好准备。

2. **配置更新 (`CONFIG_UPDATE`)**  
   - 每个循环前重新加载 `CONFIG.prop` 文件。  
   - 检查自定义参数是否有效，若无效则恢复使用默认值。  
   - 校正其他关键参数（如 `boost_wait_time`、`flash_wait_time`、`bri_update_mode`）。

3. **亮度调整算法**  
   - 根据当前亮度与设定阈值比较，确定是否需要提升亮度。  
   - 根据配置选择直接或分步提升到最大亮度，确保屏幕内容始终清晰可见。

4. **亮度检查 (`BRI_CHECK`)**  
   - 检测当前屏幕亮度是否低于预设阈值。  
   - 根据休眠时段规则决定是否执行亮度提升操作。

5. **主循环**  
   - 模块在启动后等待设定时间进入主循环，周期性检测屏幕亮度。  
   - 当检测到亮度不足且不在休眠时段内时，立即执行亮度提升操作，确保屏幕内容始终以激发亮度展示。

6. **日志管理 (`log_cleaner`)**  
   - 当日志文件超过 100000 字节时自动归档日志。  
   - 保持归档日志数量在限制范围内，自动删除最旧日志文件，保障日志管理高效运行。

## 配置说明  
请编辑模块目录下的 `CONFIG.prop` 文件，主要配置项如下：  

- `custom_thr_bri`：自定义阈值亮度，低于此值时将自动提升亮度。  
- `custom_max_bri`：自定义最大亮度，提升后的目标亮度。  
- `boost_wait_time`：模块启动后等待的秒数，然后开始主循环检测亮度。  
- `flash_wait_time`：每次主循环之间的等待时间。  
- `bri_update_mode`：亮度提升模式，取值 `1`（直接提升）或 `2`（分步提升）。  
- `step_num`：在分步提升模式下，设置分步的数量。  
- `sleep_start` 和 `sleep_stop`：设置自动亮度调整的休眠时段（小时），在该时段内模块不执行亮度提升操作。

## 安装方法  
1. 安装模块。
2. 重启设备以激活模块。  
3. 如需调整参数，请编辑模块内的 `CONFIG.prop` 文件，保存后模块将在下一个循环自动加载新配置。

## 注意事项  
- 修改配置参数时，请确保数值合理，避免因错误配置导致屏幕亮度异常。  
- 若遇到问题，可通过查看模块目录下的 `service.log` 日志文件来排查原因，或运行 `feedback.sh` 后根据提示反馈。